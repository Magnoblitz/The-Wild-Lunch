[gd_scene load_steps=23 format=3 uid="uid://cnraib2hieefm"]

[ext_resource type="Texture2D" uid="uid://bco5ql0qce385" path="res://art/background.png" id="1_5ilbp"]
[ext_resource type="Texture2D" uid="uid://d01lmkag6rsc3" path="res://art/cowboy.png" id="2_1xcoi"]
[ext_resource type="Texture2D" uid="uid://b7etlfqlco1ku" path="res://art/foreground.png" id="3_64rk7"]
[ext_resource type="Script" path="res://scripts/customer.gd" id="3_dvcwi"]
[ext_resource type="Texture2D" uid="uid://bwyi4fahmmybj" path="res://art/request_bubble.png" id="4_l8ill"]
[ext_resource type="Script" path="res://scripts/kitchen.gd" id="6_8rygx"]
[ext_resource type="Texture2D" uid="uid://d2q7cwk7tvg81" path="res://art/plate.png" id="7_wqxhs"]
[ext_resource type="Texture2D" uid="uid://dppvr8u7os5gd" path="res://art/can_of_beans.png" id="8_dxaos"]
[ext_resource type="Script" path="res://scripts/plate.gd" id="8_fexf7"]
[ext_resource type="Texture2D" uid="uid://biiynausbtoxx" path="res://art/stack_of_bowls.png" id="9_nsfx5"]
[ext_resource type="Texture2D" uid="uid://bhrt4mlnadpsm" path="res://art/bowl_of_beans.png" id="9_yc5of"]
[ext_resource type="Resource" uid="uid://vc6456xkrnms" path="res://plate_states/main_plate/empty.tres" id="10_m6vj0"]
[ext_resource type="Texture2D" uid="uid://c0f3ia5sc3usd" path="res://art/coin.png" id="12_b6dod"]
[ext_resource type="Script" path="res://scripts/game_ui.gd" id="12_hqpel"]
[ext_resource type="Texture2D" uid="uid://diyvpwt30p3k7" path="res://art/trash_can.png" id="15_07q1x"]

[sub_resource type="CircleShape2D" id="CircleShape2D_1oghr"]
radius = 83.3607

[sub_resource type="Gradient" id="Gradient_83yk0"]
interpolation_color_space = 2
offsets = PackedFloat32Array(0, 0.549521, 1)
colors = PackedColorArray(0.410327, 5.83585e-07, 1.44392e-07, 1, 0.583333, 1, 0, 1, 0, 0.768935, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_a4xfd"]
gradient = SubResource("Gradient_83yk0")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kegd5"]
size = Vector2(92.4444, 92.4445)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kd3tp"]
size = Vector2(69.0424, 103.952)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_0on52"]
radius = 64.4129
height = 198.193

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hgtav"]
size = Vector2(113, 163)

[node name="Node2D" type="Node2D"]

[node name="Background" type="Sprite2D" parent="."]
position = Vector2(640, 360)
texture = ExtResource("1_5ilbp")

[node name="Customers" type="Node2D" parent="."]

[node name="Customer" type="Sprite2D" parent="Customers"]
position = Vector2(637, 376)
texture = ExtResource("2_1xcoi")
script = ExtResource("3_dvcwi")

[node name="RequestBubble" type="Sprite2D" parent="Customers/Customer"]
position = Vector2(184, -130)
texture = ExtResource("4_l8ill")

[node name="Area2D" type="Area2D" parent="Customers/Customer/RequestBubble"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Customers/Customer/RequestBubble/Area2D"]
position = Vector2(14, 4)
shape = SubResource("CircleShape2D_1oghr")

[node name="Request" type="Sprite2D" parent="Customers/Customer"]
position = Vector2(203, -130)
scale = Vector2(0.765625, 0.765625)

[node name="Satisfaction" type="Sprite2D" parent="Customers/Customer"]
position = Vector2(297, -135)
rotation = -1.5708
scale = Vector2(0.612616, 27.9655)
texture = SubResource("GradientTexture1D_a4xfd")

[node name="Foreground" type="Sprite2D" parent="."]
position = Vector2(640, 360)
texture = ExtResource("3_64rk7")

[node name="Kitchen" type="Node2D" parent="." node_paths=PackedStringArray("main_plate", "customer_container")]
script = ExtResource("6_8rygx")
main_plate = NodePath("Plate")
customer_container = NodePath("../Customers")

[node name="Plate" type="Sprite2D" parent="Kitchen"]
position = Vector2(647, 593)
scale = Vector2(1.40625, 1.40625)
texture = ExtResource("7_wqxhs")
script = ExtResource("8_fexf7")
plate_state = ExtResource("10_m6vj0")
empty_plate_state = ExtResource("10_m6vj0")

[node name="Area2D" type="Area2D" parent="Kitchen/Plate"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Kitchen/Plate/Area2D"]
position = Vector2(0.711121, -16.3556)
shape = SubResource("RectangleShape2D_kegd5")

[node name="Food" type="Sprite2D" parent="Kitchen/Plate"]
position = Vector2(0.711121, -15.6444)
scale = Vector2(0.711111, 0.711111)
texture = ExtResource("9_yc5of")

[node name="Beans" type="Sprite2D" parent="Kitchen"]
position = Vector2(1198, 579)
scale = Vector2(1.28906, 1.28906)
texture = ExtResource("8_dxaos")

[node name="Area2D" type="Area2D" parent="Kitchen/Beans"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Kitchen/Beans/Area2D"]
position = Vector2(-0.387878, 1.55145)
shape = SubResource("RectangleShape2D_kd3tp")

[node name="Bowls" type="Sprite2D" parent="Kitchen"]
position = Vector2(138, 540)
scale = Vector2(1.21094, 1.21094)
texture = ExtResource("9_nsfx5")

[node name="Area2D" type="Area2D" parent="Kitchen/Bowls"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Kitchen/Bowls/Area2D"]
shape = SubResource("CapsuleShape2D_0on52")

[node name="DraggingFood" type="Sprite2D" parent="Kitchen"]
visible = false
position = Vector2(426, 541)
scale = Vector2(0.949306, 0.949306)
texture = ExtResource("9_yc5of")

[node name="Coins" type="Node2D" parent="Kitchen"]
position = Vector2(289, 480)

[node name="TrashCan" type="Sprite2D" parent="Kitchen"]
position = Vector2(320, 620)
texture = ExtResource("15_07q1x")

[node name="Area2D" type="Area2D" parent="Kitchen/TrashCan"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Kitchen/TrashCan/Area2D"]
position = Vector2(1.5, 2.5)
shape = SubResource("RectangleShape2D_hgtav")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("12_hqpel")

[node name="Coins" type="RichTextLabel" parent="UI"]
layout_mode = 0
offset_left = 1072.0
offset_top = 6.0
offset_right = 1142.0
offset_bottom = 90.0
theme_override_font_sizes/normal_font_size = 61
text = "0"
fit_content = true
autowrap_mode = 0
tab_size = 24

[node name="CoinImage" type="TextureRect" parent="UI"]
layout_mode = 0
offset_left = 1146.0
offset_top = -5.0
offset_right = 1274.0
offset_bottom = 123.0
scale = Vector2(0.8, 0.8)
texture = ExtResource("12_b6dod")

[connection signal="mouse_entered" from="Customers/Customer/RequestBubble/Area2D" to="Kitchen" method="mouse_entered_region" binds= [0]]
[connection signal="mouse_exited" from="Customers/Customer/RequestBubble/Area2D" to="Kitchen" method="mouse_exited_region"]
[connection signal="input_event" from="Kitchen/Plate/Area2D" to="Kitchen" method="plate_touched" binds= ["main plate"]]
[connection signal="input_event" from="Kitchen/Beans/Area2D" to="Kitchen" method="receive_action" binds= [1]]
[connection signal="input_event" from="Kitchen/Bowls/Area2D" to="Kitchen" method="receive_action" binds= [0]]
[connection signal="mouse_entered" from="Kitchen/TrashCan/Area2D" to="Kitchen" method="mouse_entered_region" binds= [-1]]
[connection signal="mouse_exited" from="Kitchen/TrashCan/Area2D" to="Kitchen" method="mouse_exited_region"]
